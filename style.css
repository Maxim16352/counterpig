/* ---------- базовые стили (твой существующий CSS, сокращённо + важные правки) ---------- */

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #f2f2f2;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.container {
    position: relative; /* Важно: relative */
    width: 100%;
    height: 100vh;
    overflow: hidden;   /* можно оставить, прокрутка внутри main */
}

/* ---------- верхний блок ---------- */
.glass-container.top {
    position: fixed;
    width: 100%;
    height: 190px;
    top: 0;              /* по умолчанию закрыт сверху (будет анимироваться через .container.active) */
    left: 0;
    border-radius: 0 0 20px 20px;
    background: rgba(255,255,255,0.35);
    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
    border: 1px solid rgba(255,255,255,0.36);
    box-shadow: 0 6px 22px rgba(0,0,0,0.14);

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;

    padding: 14px 0;
    z-index: 999;
    transition: transform 0.35s ease, opacity 0.35s ease;
}

/* Класс убирающий верхний блок вверх */
.glass-container.top.away {
    transform: translateY(-220px);
    opacity: 0;
}

/* ---------- главный (основной) блок ---------- */
/* ВАЖНО: прокрутка должна быть ВНУТРИ main, поэтому height и overflow-y */
.glass-container.main {
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    border-radius: 28px 28px 0 0;
    background: rgba(255,255,255,0.28);
    backdrop-filter: blur(22px) saturate(160%);
    -webkit-backdrop-filter: blur(22px) saturate(160%);
    border: 1px solid rgba(255,255,255,0.36);
    box-shadow: 0 8px 32px rgba(0,0,0,0.12);

    display: flex;
    flex-direction: column;
    align-items: center;

    box-sizing: border-box;
    padding: 24px 16px;

    /* КЛЮЧЕВОЕ: прокрутка внутри блока */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;

    transition: transform 0.6s ease;
    transform: translateY(45px); /* стартовая позиция (можно оставить) */
}

/* Когда контейнер .active — main поднимается визуально */
.container.active .glass-container.main {
    transform: translateY(216px);
}

/* ---------- полезные классы и элементы ---------- */
.helloText { font-family: 'Fascinate1', Arial, sans-serif; font-size: 24px; margin-top: 32px; color: #585858; text-align: center; }
.pepe { margin-top: 32px; max-width: 70%; height: auto; display: block; }

.textarea-container { width: 100%; max-width: 360px; margin: 30px auto; display: flex; flex-direction: column; align-items: center; gap: 6px; }
.textAreaLabel { font-family: 'Fascinate1', Arial, sans-serif; font-size: 13px; color: #585858; }

.glass-textarea {
    width: 310px; height: 44px; padding: 10px 14px; font-size: 30px;
    color: #585858; background: rgba(255,255,255,0.35); border: 1px solid rgba(255,255,255,0.45);
    border-radius: 34px; outline: none; text-align: center;
}

/* Кнопки */
.glass-button, .glass-button1 {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 329px;
    height: 64px;
    font-family: 'Fascinate1', Arial, sans-serif;
    font-size: 18px;
    color: #585858;
    background: rgba(255,255,255,0.35);
    border: 1px solid rgba(255,255,255,0.45);
    border-radius: 34px;
    cursor: pointer;
    box-shadow: inset 0 1px 1px rgba(255,255,255,0.7), 0 4px 18px rgba(0,0,0,0.10);
    transition: all 0.25s ease, opacity 0.25s ease;
}

/* стартовые позиции */
.glass-button { bottom: 150px; opacity: 1; }
.glass-button1 { bottom: 30px; opacity: 0; }

/* показать нижнюю кнопку */
.glass-button1.show { opacity: 1; }

/* анимация появления элементов main */
.jem-image { margin-top: 32px; width: 170px; height: 170px; opacity: 0; transition: opacity 0.4s ease; }
.jem-image.show { opacity: 1; }
.rowBlock { margin: 0 auto 8px; display:flex; align-items:center; gap:12px; width: fit-content; opacity: 0; transition: opacity 0.35s ease; }
.rowBlock.show { opacity: 1; }
.rowText { font-family: 'Fascinate1', Arial, sans-serif; font-size: 20px; color: #585858; }
.balance-text { margin-top: 20px; font-family: 'fira', Arial, sans-serif; font-size: 40px; color: #585858; opacity: 0; transition: opacity 0.35s ease; }
.balance-text.show { opacity: 1; }
.editInput { padding: 8px 12px; font-size: 18px; border-radius: 12px; margin-top: 10px; margin-bottom: 10px; border: 1px solid #aaa; outline: none; width: 180px; background: rgba(255,255,255,0.45); }

/* Верхний инфобокс */
.glass-nameInfo { width: 80%; height: 40px; padding: 8px 14px; background: rgba(255,255,255,0.35); border-radius: 34px; display:flex; align-items:center; justify-content:center; box-sizing: border-box; }
.infouser { width: 100%; display:flex; justify-content:space-between; align-items:center; }
.nameUser { font-family:'Fascinate1', Arial, sans-serif; font-size: 16px; color:#585858; margin:0; text-align:center; }
.checkconnect { font-family: 'Apple', Arial, sans-serif; font-size:20px; margin:0; }
.buttonInfo { width:25px; height:25px; }

/* plus/minus blocks */
.glass-payment { width: 80%; display:flex; justify-content:space-between; align-items:center; margin-bottom: 10px; }
.plusblock, .minusblock {
    width: 140px; height: 70px;
    background: rgba(255,255,255,0.35);
    border: 1px solid rgba(255,255,255,0.45);
    border-radius: 20px;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    box-shadow: inset 0 1px 1px rgba(255,255,255,0.7), 0 4px 18px rgba(0,0,0,0.10);
}
.plusblock p, .minusblock p { margin: 0; font-family: 'Fascinate1', Arial, sans-serif; color: #585858; font-size: 14px; }
.moneyPlus { font-size: 18px; margin-top:6px; }
.moneyMinus { font-size: 18px; margin-top:6px; }

/* responsive tweaks */
@media (max-width: 480px) {
    .jem-image { width: 140px; height: 140px; }
    .balance-text { font-size: 34px; }
    .glass-button, .glass-button1 { height: 64px; }
}
